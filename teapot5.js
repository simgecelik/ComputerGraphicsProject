var canvas;
var gl;

var indices = []; // To keep the indices of triangle vertices

var modelViewMatrix, projectionMatrix;
var modelViewMatrixLoc, projectionMatrixLoc;

var ambientLight=vec4(0.2,0.2,0.2,1.0);
var lightlColor=vec4(1.0,1.0,1.0,1.0);
var lightlDirection=vec4(-1.0,-1.0,-1.0,0.0);

var ambientColor=vec4(0.9,0.0,0.7,1.0);
var diffuseColor=vec4(0.9,0.0,0.7,1.0);
var specularColor=vec4(1.0,1.0,1.0,1.0);
var materialShininess=1000.0;

var ambientProduct,diffuseProduct,specularProduct;

var vertices =[
  -1.235936,0.967071,1.031746,
-0.904684,0.967071,1.031746,
-0.904684,0.967071,1.166736,
-1.235937,0.967071,1.166736,
-1.235936,2.293827,1.416024,
-0.904684,2.293827,1.416024,
-0.904684,2.293827,1.551014,
-1.235936,2.293827,1.551014,
-1.235936,0.967071,3.988602,
-0.904684,0.967071,3.988602,
-0.904684,0.967071,3.853612,
-1.235936,0.967071,3.853612,
-1.235936,2.293827,3.604324,
-0.904684,2.293827,3.604324,
-0.904684,2.293827,3.469333,
-1.235936,2.293827,3.469333,
-0.760713,2.392656,1.354740
,-0.224474,2.392656,1.664338
,0.085123,2.392656,2.200576
,0.085123,2.392656,2.819771
,-0.224474,2.392656,3.356010
,-0.760713,2.392656,3.665607
,-1.379908,2.392656,3.665607
,-1.916146,2.392656,3.356010
,-2.225744,2.392656,2.819772
,-2.225744,2.392656,2.200577
,-0.016210,2.413720,2.792619
,-1.379908,2.392656,1.354740
,-1.916147,2.392656,1.664338
,-1.070310,2.203085,2.510174
,-1.916147,2.303136,1.664338
,-1.379908,2.303136,1.354740
,-2.225744,2.303136,2.200577
,-2.225744,2.303136,2.819772
,-1.916146,2.303136,3.356010
,-1.379908,2.303136,3.665607
,-0.760713,2.303136,3.665607
,-0.224474,2.303136,3.356010
,0.085123,2.303136,2.819771
,0.085123,2.303136,2.200576
,-0.224474,2.303136,1.664338
,-0.760713,2.303136,1.354740
,-0.760713,2.218883,1.354740
,-0.224474,2.218883,1.664338
,0.085123,2.218883,2.200576
,0.085123,2.218883,2.819771
,-0.224474,2.218883,3.356010
,-0.760713,2.218883,3.665607
,-1.379908,2.218883,3.665607
,-1.916146,2.218883,3.356010
,-2.225744,2.218883,2.819772
,-2.225744,2.218883,2.200577
,-1.379908,2.218883,1.354740
,-1.916147,2.218883,1.664338
,-1.070310,2.413720,2.510174
,-1.352756,2.413720,1.456074
,-0.787865,2.413720,1.456074
,-0.016210,2.413720,2.227729
,-1.841966,2.413720,1.738519
,-0.298656,2.413720,1.738519
,-2.124411,2.413720,2.227729
,-2.124410,2.413720,2.792619
,-1.841965,2.413720,3.281829
,-1.352755,2.413720,3.564274
,-0.787865,2.413720,3.564274
,-0.298655,2.413720,3.281829
,-0.838112,2.207034,1.643599
,-0.767501,2.408454,1.380074
,-1.070310,2.392656,1.313262
,-0.471854,2.218883,1.473618
,-0.435933,2.207034,1.875797
,-0.243020,2.408454,1.682883
,-0.033754,2.218883,1.911718
,-0.203735,2.207034,2.277976
,0.059790,2.408454,2.207364
,0.126602,2.218883,2.510174
,-0.203735,2.207034,2.742372
,0.059790,2.408454,2.812983
,-0.033754,2.218883,3.108630
,-0.435933,2.207034,3.144551
,-0.243019,2.408454,3.337465
,-0.471854,2.218883,3.546730
,-0.838112,2.207034,3.376749
,-0.767501,2.408454,3.640274
,-1.070310,2.218883,3.707086
,-1.302508,2.207034,3.376749
,-1.373120,2.408454,3.640274
,-1.668766,2.218883,3.546730
,-1.704687,2.207034,3.144551
,-1.897601,2.408454,3.337465
,-2.106866,2.218883,3.108630
,-1.936886,2.207034,2.742372
,-2.200411,2.408454,2.812984
,-2.267222,2.218883,2.510174
,-1.936886,2.207034,2.277976
,-2.200411,2.408454,2.207365
,-2.106867,2.218883,1.911718
,-1.704688,2.207034,1.875797
,-1.897602,2.408454,1.682883
,-1.668767,2.218883,1.473618
,-1.302509,2.207034,1.643599
,-1.373120,2.408454,1.380074
,-1.070310,2.303136,1.313262
,-0.471854,2.392656,1.473618
,-0.033754,2.392656,1.911718
,0.126602,2.392656,2.510174
,-0.033754,2.392656,3.108630
,-0.471854,2.392656,3.546730
,-1.070310,2.392656,3.707086
,-1.668766,2.392656,3.546730
,-2.106866,2.392656,3.108630
,-2.267222,2.392656,2.510174
,-2.106867,2.392656,1.911718
,-1.668767,2.392656,1.473618
,-1.916147,2.359745,1.664338
,-1.379908,2.359745,1.354740
,-2.225744,2.359745,2.200577
,-2.225744,2.359745,2.819772
,-1.916146,2.359745,3.356010
,-1.379908,2.359745,3.665607
,-0.760713,2.359745,3.665607
,-0.224474,2.359745,3.356010
,0.085123,2.359745,2.819771
,0.085123,2.359745,2.200576
,-0.224474,2.359745,1.664338
,-0.760713,2.359745,1.354740
,-0.471854,2.303136,1.473618
,-0.033754,2.303136,1.911718
,0.126602,2.303136,2.510174
,-0.033754,2.303136,3.108630
,-0.471854,2.303136,3.546730
,-1.070310,2.303136,3.707086
,-1.668766,2.303136,3.546730
,-2.106866,2.303136,3.108630
,-2.267222,2.303136,2.510174
,-2.106867,2.303136,1.911718
,-1.668767,2.303136,1.473618
,-1.070310,2.218883,1.313262
,-0.760713,2.247845,1.354740
,-0.224474,2.247845,1.664338
,0.085123,2.247845,2.200576
,0.085123,2.247845,2.819771
,-0.224474,2.247845,3.356010
,-0.760713,2.247845,3.665607
,-1.379908,2.247845,3.665607
,-1.916146,2.247845,3.356010
,-2.225744,2.247845,2.819772
,-2.225744,2.247845,2.200577
,-1.379908,2.247845,1.354740
,-1.916147,2.247845,1.664338
,-0.872053,2.413720,1.770266
,-0.528660,2.413720,1.968523
,-0.330402,2.413720,2.311916
,-0.330402,2.413720,2.708432
,-0.528660,2.413720,3.051824
,-0.872052,2.413720,3.250082
,-1.268568,2.413720,3.250082
,-1.611961,2.413720,3.051825
,-1.810219,2.413720,2.708432
,-1.810219,2.413720,2.311916
,-1.611961,2.413720,1.968524
,-1.268568,2.413720,1.770266
,0.021630,2.413720,2.510174
,-0.124662,2.413720,3.056144
,-1.616281,2.413720,1.564526
,-1.070310,2.413720,1.418233
,-0.524340,2.413720,1.564525
,-0.124662,2.413720,1.964204
,-2.015959,2.413720,1.964204
,-2.162251,2.413720,2.510174
,-2.015958,2.413720,3.056144
,-1.616280,2.413720,3.455822
,-1.070310,2.413720,3.602115
,-0.524340,2.413720,3.455822
,-1.070310,2.210106,1.464687
,-1.070310,2.408454,1.339505
,-0.547567,2.210106,1.604756
,-0.484976,2.408454,1.496345
,-0.164892,2.210106,1.987430
,-0.056481,2.408454,1.924839
,-0.024823,2.210106,2.510174
,0.100359,2.408454,2.510174
,-0.164892,2.210106,3.032917
,-0.056481,2.408454,3.095508
,-0.547567,2.210106,3.415592
,-0.484976,2.408454,3.524003
,-1.070310,2.210106,3.555661
,-1.070310,2.408454,3.680843
,-1.593054,2.210106,3.415592
,-1.655645,2.408454,3.524003
,-1.975729,2.210106,3.032917
,-2.084139,2.408454,3.095509
,-2.115798,2.210106,2.510174
,-2.240979,2.408454,2.510174
,-1.975729,2.210106,1.987431
,-2.084140,2.408454,1.924840
,-1.593054,2.210106,1.604756
,-1.655645,2.408454,1.496345
,-1.070310,2.359745,1.313262
,-0.471854,2.359745,1.473618
,-0.033754,2.359745,1.911718
,0.126602,2.359745,2.510174
,-0.033754,2.359745,3.108630
,-0.471854,2.359745,3.546730
,-1.070310,2.359745,3.707086
,-1.668766,2.359745,3.546730
,-2.106866,2.359745,3.108630
,-2.267222,2.359745,2.510174
,-2.106867,2.359745,1.911718
,-1.668767,2.359745,1.473618
,-0.471854,2.247845,1.473618
,-0.033754,2.247845,1.911718
,0.126602,2.247845,2.510174
,-0.033754,2.247845,3.108630
,-0.471854,2.247845,3.546730
,-1.070310,2.247845,3.707086
,-1.668766,2.247845,3.546730
,-2.106866,2.247845,3.108630
,-2.267222,2.247845,2.510174
,-2.106867,2.247845,1.911718
,-1.668767,2.247845,1.473618
,-1.070310,2.247845,1.313262
,-0.615931,2.413720,1.723166
,-1.070310,2.413720,1.601415
,-0.283302,2.413720,2.055794
,-0.161552,2.413720,2.510174
,-0.283302,2.413720,2.964553
,-0.615931,2.413720,3.297182
,-1.070310,2.413720,3.418933
,-1.524690,2.413720,3.297182
,-1.857318,2.413720,2.964554
,-1.979069,2.413720,2.510174
,-1.857319,2.413720,2.055795
,-1.524690,2.413720,1.723166
,0.408118,0.967071,2.344548
,0.408118,0.967071,2.675800
,0.273128,0.967071,2.675800
,0.273128,0.967071,2.344548
,0.023839,2.293827,2.344548
,0.023839,2.293827,2.675800
,-0.111151,2.293827,2.675800
,-0.111151,2.293827,2.344548
,-2.548738,0.967071,2.344548
,-2.548738,0.967071,2.675800
,-2.413748,0.967071,2.675800
,-2.413748,0.967071,2.344548
,-2.164460,2.293827,2.344548
,-2.164460,2.293827,2.675800
,-2.029470,2.293827,2.675800
,-2.029470,2.293827,2.344548

];

var normals=[
0.000000,-1.000000,0.000000
,0.000000,1.000000,0.000000
,0.000000,0.278200,-0.960500
,1.000000,-0.000000,0.000000
,0.000000,-0.278200,0.960500
,-1.000000,-0.000000,-0.000000
,0.000000,0.278200,0.960500
,0.000000,-0.278200,-0.960500
,0.227700,0.475500,-0.849700
,0.258800,0.000000,-0.965900
,0.000000,0.000000,-1.000000
,0.000000,0.475000,-0.879900
,0.000000,0.948200,-0.317600
,0.082100,0.948400,-0.306300
,0.158800,0.948200,-0.275000
,0.440000,0.475000,-0.762000
,0.500000,0.000000,-0.866000
,0.622000,0.475500,-0.622000
,0.707100,0.000000,-0.707100
,0.224200,0.948400,-0.224200
,0.275000,0.948200,-0.158800
,0.762000,0.475000,-0.440000
,0.866000,0.000000,-0.500000
,0.849700,0.475500,-0.227700
,0.965900,0.000000,-0.258800
,0.306300,0.948400,-0.082100
,0.317600,0.948200,0.000000
,0.879900,0.475000,0.000000
,1.000000,0.000000,0.000000
,0.849700,0.475500,0.227700
,0.965900,0.000000,0.258800
,0.306300,0.948400,0.082100
,0.275000,0.948200,0.158800
,0.762000,0.475000,0.440000
,0.866000,0.000000,0.500000
,0.622000,0.475500,0.622000
,0.707100,0.000000,0.707100
,0.224200,0.948400,0.224200
,0.158800,0.948200,0.275000
,0.440000,0.475000,0.762000
,0.500000,0.000000,0.866000
,0.227700,0.475500,0.849700
,0.258800,0.000000,0.965900
,0.082100,0.948400,0.306300
,0.000000,0.948200,0.317600
,0.000000,0.475000,0.879900
,0.000000,0.000000,1.000000
,-0.227700,0.475500,0.849700
,-0.258800,0.000000,0.965900
,-0.082100,0.948400,0.306300
,-0.158800,0.948200,0.275000
,-0.440000,0.475000,0.762000
,-0.500000,0.000000,0.866000
,-0.622000,0.475500,0.622000
,-0.707100,0.000000,0.707100
,-0.224200,0.948400,0.224200
,-0.275000,0.948200,0.158800
,-0.762000,0.475000,0.440000
,-0.866000,0.000000,0.500000
,-0.849700,0.475500,0.227700
,-0.965900,0.000000,0.258800
,-0.306300,0.948400,0.082100
,-0.317600,0.948200,0.000000
,-0.879900,0.475000,0.000000
,-1.000000,0.000000,0.000000
,-0.849700,0.475500,-0.227700
,-0.965900,0.000000,-0.258800
,-0.306300,0.948400,-0.082100
,-0.275000,0.948200,-0.158800
,-0.762000,0.475000,-0.440000
,-0.866000,0.000000,-0.500000
,0.034900,0.999300,0.009300
,0.031300,0.999300,0.018100
,0.036200,0.999300,0.000000
,0.000000,1.000000,0.000000
,-0.227700,0.475500,-0.849700
,-0.258800,0.000000,-0.965900
,-0.500000,0.000000,-0.866000
,-0.440000,0.475000,-0.762000
,-0.158800,0.948200,-0.275000
,-0.082100,0.948400,-0.306300
,-0.622000,0.475500,-0.622000
,-0.707100,0.000000,-0.707100
,-0.224200,0.948400,-0.224200
,0.000000,-1.000000,0.000000
,-0.005500,-0.999800,-0.020700
,0.000000,-0.999400,-0.033600
,0.005500,-0.999800,-0.020700
,0.016800,-0.999400,-0.029100
,0.015100,-0.999800,-0.015100
,0.029100,-0.999400,-0.016800
,0.020700,-0.999800,-0.005500
,0.033600,-0.999400,0.000000
,0.020700,-0.999800,0.005500
,0.029100,-0.999400,0.016800
,0.015100,-0.999800,0.015100
,0.016800,-0.999400,0.029100
,0.005500,-0.999800,0.020700
,0.000000,-0.999400,0.033600
,-0.005500,-0.999800,0.020700
,-0.016800,-0.999400,0.029100
,-0.015100,-0.999800,0.015100
,-0.029100,-0.999400,0.016800
,-0.020700,-0.999800,0.005500
,-0.033600,-0.999400,0.000000
,-0.020700,-0.999800,-0.005500
,-0.029100,-0.999400,-0.016800
,-0.015100,-0.999800,-0.015100
,-0.016800,-0.999400,-0.029100
,0.193600,-0.663500,-0.722700
,0.000000,-0.663200,-0.748400
,0.374200,-0.663200,-0.648200
,0.529000,-0.663500,-0.529000
,0.648200,-0.663200,-0.374200
,0.722700,-0.663500,-0.193600
,0.748400,-0.663200,0.000000
,0.722700,-0.663500,0.193600
,0.648200,-0.663200,0.374200
,0.529000,-0.663500,0.529000
,0.374200,-0.663200,0.648200
,0.193600,-0.663500,0.722700
,0.000000,-0.663200,0.748400
,-0.193600,-0.663500,0.722700
,-0.374200,-0.663200,0.648200
,-0.529000,-0.663500,0.529000
,-0.648200,-0.663200,0.374200
,-0.722700,-0.663500,0.193600
,-0.748400,-0.663200,0.000000
,-0.722700,-0.663500,-0.193600
,-0.648200,-0.663200,-0.374200
,-0.193600,-0.663500,-0.722700
,-0.374200,-0.663200,-0.648200
,-0.529000,-0.663500,-0.529000
,-0.009300,0.999300,-0.034900
,0.000000,0.999300,-0.036200
,-0.018100,0.999300,-0.031300
,0.009300,0.999300,-0.034900
,0.018100,0.999300,-0.031300
,0.034900,0.999300,-0.009300
,0.031300,0.999300,-0.018100
,-0.025500,0.999300,-0.025500
,-0.031300,0.999300,-0.018100
,0.025500,0.999300,-0.025500
,-0.034900,0.999300,-0.009300
,-0.036200,0.999300,0.000000
,-0.034900,0.999300,0.009300
,-0.031300,0.999300,0.018100
,-0.025500,0.999300,0.025500
,-0.018100,0.999300,0.031300
,-0.009300,0.999300,0.034900
,0.000000,0.999300,0.036200
,0.009300,0.999300,0.034900
,0.018100,0.999300,0.031300
,0.025500,0.999300,0.025500
,0.000000,-1.000000,0.000000
,0.000000,1.000000,0.000000
,0.960500,0.278200,0.000000
,0.000000,0.000000,1.000000
,-0.960500,-0.278200,0.000000
,0.000000,0.000000,-1.000000
,-0.960500,0.278200,0.000000
,0.960500,-0.278200,0.000000



];

var textureCoords=[
,0.000000,0.000000,0.000000
,0.299052,0.000000,0.000000
,0.299052,0.161548,0.000000
,0.000000,0.161548,0.000000
,0.598105,0.838452,0.000000
,0.598105,1.000000,0.000000
,0.299053,1.000000,0.000000
,0.299052,0.838452,0.000000
,0.598105,0.000000,0.000000
,0.598105,0.161548,0.000000
,0.799053,0.000000,0.000000
,0.799052,0.838452,0.000000
,0.000000,1.000000,0.000000
,1.000000,0.161548,0.000000
,1.000000,1.000000,0.000000
,0.042468,0.950000,0.000000
,0.042468,0.871875,0.000000
,0.086579,0.871875,0.000000
,0.086579,0.950000,0.000000
,0.086579,1.000000,0.000000
,0.042468,1.000000,0.000000
,0.000000,1.000000,0.000000
,0.000000,0.950000,0.000000
,0.000000,0.871875,0.000000
,0.957532,0.450000,0.000000
,0.957532,0.371875,0.000000
,1.000000,0.371875,0.000000
,1.000000,0.450000,0.000000
,1.000000,0.500000,0.000000
,0.957532,0.500000,0.000000
,0.913421,0.500000,0.000000
,0.913421,0.450000,0.000000
,0.913421,0.371875,0.000000
,0.866025,0.450000,0.000000
,0.866025,0.371875,0.000000
,0.866025,0.500000,0.000000
,0.818630,0.500000,0.000000
,0.818630,0.450000,0.000000
,0.818630,0.371875,0.000000
,0.774519,0.450000,0.000000
,0.774519,0.371875,0.000000
,0.774519,0.500000,0.000000
,0.732051,0.500000,0.000000
,0.732051,0.450000,0.000000
,0.732051,0.371875,0.000000
,0.024519,0.050000,0.000000
,0.024519,0.128125,0.000000
,0.000000,0.128125,0.000000
,0.000000,0.050000,0.000000
,0.000000,0.000000,0.000000
,0.024519,0.000000,0.000000
,0.053525,0.000000,0.000000
,0.053525,0.050000,0.000000
,0.053525,0.128125,0.000000
,0.091506,0.050000,0.000000
,0.091506,0.128125,0.000000
,0.091506,0.000000,0.000000
,0.135617,0.000000,0.000000
,0.135617,0.050000,0.000000
,0.135617,0.128125,0.000000
,0.183013,0.050000,0.000000
,0.183013,0.128125,0.000000
,0.183013,0.000000,0.000000
,0.230408,0.000000,0.000000
,0.230408,0.050000,0.000000
,0.230408,0.128125,0.000000
,0.274519,0.050000,0.000000
,0.274519,0.128125,0.000000
,0.274519,0.000000,0.000000
,0.312500,0.000000,0.000000
,0.312500,0.050000,0.000000
,0.312500,0.128125,0.000000
,0.341506,0.050000,0.000000
,0.341506,0.128125,0.000000
,0.341506,0.000000,0.000000
,0.366025,0.000000,0.000000
,0.366025,0.050000,0.000000
,0.366025,0.128125,0.000000
,0.292468,0.950000,0.000000
,0.292468,0.871875,0.000000
,0.316987,0.871875,0.000000
,0.316987,0.950000,0.000000
,0.316987,1.000000,0.000000
,0.292468,1.000000,0.000000
,0.263462,1.000000,0.000000
,0.263462,0.950000,0.000000
,0.263462,0.871875,0.000000
,0.549038,0.461785,0.000000
,0.592277,0.454406,0.000000
,0.596434,0.474875,0.000000
,0.549038,0.482963,0.000000
,0.501642,0.474875,0.000000
,0.505799,0.454406,0.000000
,0.513053,0.418686,0.000000
,0.549038,0.396120,0.000000
,0.585023,0.418686,0.000000
,0.133975,0.950000,0.000000
,0.133975,0.871875,0.000000
,0.181370,0.871875,0.000000
,0.181370,0.950000,0.000000
,0.181370,1.000000,0.000000
,0.133975,1.000000,0.000000
,0.225481,0.950000,0.000000
,0.225481,0.871875,0.000000
,0.225481,1.000000,0.000000
,0.549038,0.724444,0.000000
,0.598076,0.482963,0.000000
,0.640544,0.515315,0.000000
,0.683013,0.547668,0.000000
,0.707532,0.603704,0.000000
,0.732051,0.659740,0.000000
,0.732051,0.724444,0.000000
,0.732051,0.789149,0.000000
,0.707532,0.845185,0.000000
,0.683013,0.901221,0.000000
,0.640545,0.933573,0.000000
,0.598076,0.965926,0.000000
,0.549038,0.965926,0.000000
,0.500000,0.965926,0.000000
,0.457532,0.933573,0.000000
,0.415064,0.901221,0.000000
,0.390545,0.845185,0.000000
,0.366025,0.789149,0.000000
,0.366025,0.724445,0.000000
,0.366025,0.659740,0.000000
,0.390544,0.603704,0.000000
,0.415063,0.547668,0.000000
,0.457532,0.515315,0.000000
,0.500000,0.482963,0.000000
,0.225481,0.737500,0.000000
,0.225481,0.606250,0.000000
,0.263462,0.606250,0.000000
,0.263462,0.737500,0.000000
,0.181370,0.737500,0.000000
,0.181370,0.606250,0.000000
,0.133975,0.737500,0.000000
,0.133975,0.606250,0.000000
,0.086579,0.737500,0.000000
,0.086579,0.606250,0.000000
,0.292468,0.737500,0.000000
,0.292468,0.606250,0.000000
,0.316987,0.606250,0.000000
,0.316987,0.737500,0.000000
,0.341506,0.262500,0.000000
,0.341506,0.393750,0.000000
,0.312500,0.393750,0.000000
,0.312500,0.262500,0.000000
,0.366025,0.262500,0.000000
,0.366025,0.393750,0.000000
,0.274519,0.262500,0.000000
,0.274519,0.393750,0.000000
,0.230408,0.393750,0.000000
,0.230408,0.262500,0.000000
,0.183013,0.262500,0.000000
,0.183013,0.393750,0.000000
,0.135617,0.393750,0.000000
,0.135617,0.262500,0.000000
,0.091506,0.262500,0.000000
,0.091506,0.393750,0.000000
,0.053525,0.393750,0.000000
,0.053525,0.262500,0.000000
,0.024519,0.262500,0.000000
,0.024519,0.393750,0.000000
,0.000000,0.393750,0.000000
,0.000000,0.262500,0.000000
,0.774519,0.237500,0.000000
,0.774519,0.106250,0.000000
,0.818630,0.106250,0.000000
,0.818630,0.237500,0.000000
,0.732051,0.237500,0.000000
,0.732051,0.106250,0.000000
,0.866025,0.237500,0.000000
,0.866025,0.106250,0.000000
,0.913421,0.106250,0.000000
,0.913421,0.237500,0.000000
,0.957532,0.237500,0.000000
,0.957532,0.106250,0.000000
,1.000000,0.106250,0.000000
,1.000000,0.237500,0.000000
,0.042468,0.737500,0.000000
,0.042468,0.606250,0.000000
,0.000000,0.737500,0.000000
,0.000000,0.606250,0.000000
,0.042468,0.537500,0.000000
,0.042468,0.500000,0.000000
,0.086579,0.500000,0.000000
,0.086579,0.537500,0.000000
,0.000000,0.537500,0.000000
,0.000000,0.500000,0.000000
,0.957532,0.037500,0.000000
,0.957532,0.000000,0.000000
,1.000000,0.000000,0.000000
,1.000000,0.037500,0.000000
,0.913421,0.037500,0.000000
,0.913421,0.000000,0.000000
,0.866025,0.037500,0.000000
,0.866025,0.000000,0.000000
,0.818630,0.037500,0.000000
,0.818630,0.000000,0.000000
,0.774519,0.037500,0.000000
,0.774519,0.000000,0.000000
,0.732051,0.037500,0.000000
,0.732051,0.000000,0.000000
,0.024519,0.462500,0.000000
,0.024519,0.500000,0.000000
,0.000000,0.462500,0.000000
,0.053525,0.462500,0.000000
,0.053525,0.500000,0.000000
,0.091506,0.462500,0.000000
,0.091506,0.500000,0.000000
,0.135617,0.462500,0.000000
,0.135617,0.500000,0.000000
,0.183013,0.462500,0.000000
,0.183013,0.500000,0.000000
,0.230408,0.462500,0.000000
,0.230408,0.500000,0.000000
,0.274519,0.462500,0.000000
,0.274519,0.500000,0.000000
,0.312500,0.462500,0.000000
,0.312500,0.500000,0.000000
,0.341506,0.462500,0.000000
,0.341506,0.500000,0.000000
,0.366025,0.462500,0.000000
,0.366025,0.500000,0.000000
,0.292468,0.537500,0.000000
,0.292468,0.500000,0.000000
,0.316987,0.500000,0.000000
,0.316987,0.537500,0.000000
,0.263462,0.537500,0.000000
,0.263462,0.500000,0.000000
,0.133975,0.537500,0.000000
,0.133975,0.500000,0.000000
,0.181370,0.500000,0.000000
,0.181370,0.537500,0.000000
,0.225481,0.537500,0.000000
,0.225481,0.500000,0.000000
,0.549038,0.241481,0.000000
,0.447543,0.318801,0.000000
,0.414739,0.288963,0.000000
,0.431842,0.241481,0.000000
,0.414739,0.194000,0.000000
,0.447543,0.164162,0.000000
,0.450725,0.111759,0.000000
,0.490440,0.107561,0.000000
,0.513053,0.064277,0.000000
,0.549038,0.086843,0.000000
,0.585023,0.064277,0.000000
,0.607636,0.107561,0.000000
,0.647352,0.111759,0.000000
,0.650533,0.164162,0.000000
,0.683337,0.194000,0.000000
,0.666234,0.241481,0.000000
,0.683337,0.288963,0.000000
,0.650533,0.318801,0.000000
,0.647352,0.371204,0.000000
,0.607636,0.375402,0.000000
,0.490440,0.375402,0.000000
,0.450725,0.371204,0.000000
,0.404445,0.131330,0.000000
,0.387668,0.184429,0.000000
,0.372155,0.178944,0.000000
,0.390544,0.120741,0.000000
,0.419551,0.070626,0.000000
,0.430907,0.085610,0.000000
,0.382076,0.241481,0.000000
,0.387668,0.298534,0.000000
,0.372155,0.304019,0.000000
,0.366025,0.241481,0.000000
,0.465557,0.432270,0.000000
,0.457532,0.450611,0.000000
,0.419551,0.412337,0.000000
,0.430907,0.397353,0.000000
,0.465557,0.050693,0.000000
,0.457532,0.032352,0.000000
,0.501643,0.008088,0.000000
,0.505799,0.028557,0.000000
,0.404445,0.351633,0.000000
,0.390544,0.362222,0.000000
,0.549038,0.021178,0.000000
,0.549038,0.000000,0.000000
,0.596434,0.008088,0.000000
,0.592277,0.028557,0.000000
,0.632519,0.050693,0.000000
,0.640545,0.032352,0.000000
,0.678525,0.070626,0.000000
,0.667169,0.085610,0.000000
,0.693632,0.131330,0.000000
,0.707532,0.120741,0.000000
,0.725921,0.178944,0.000000
,0.710408,0.184429,0.000000
,0.716000,0.241481,0.000000
,0.732051,0.241481,0.000000
,0.725921,0.304019,0.000000
,0.710408,0.298534,0.000000
,0.693632,0.351633,0.000000
,0.707532,0.362222,0.000000
,0.678525,0.412337,0.000000
,0.667169,0.397353,0.000000
,0.632519,0.432270,0.000000
,0.640544,0.450611,0.000000
,0.000000,0.000000,0.000000
,0.299052,0.000000,0.000000
,0.299052,0.161548,0.000000
,0.000000,0.161548,0.000000
,0.598105,0.838452,0.000000
,0.598105,1.000000,0.000000
,0.299053,1.000000,0.000000
,0.299052,0.838452,0.000000
,0.598105,0.000000,0.000000
,0.598105,0.161548,0.000000
,0.799053,0.000000,0.000000
,0.799052,0.838452,0.000000
,0.000000,1.000000,0.000000
,1.000000,0.161548,0.000000
,1.000000,1.000000,0.000000

];

var quads=[
 1,1,1,2,2,1,3,3,1,4,4,1
,5,5,2,8,6,2,7,7,2,6,8,2
,1,9,3,5,5,3,6,8,3,2,2,3
,2,6,4,6,10,4,7,11,4,3,12,4
,3,3,5,7,7,5,8,13,5,4,4,5
,5,14,6,1,15,6,4,12,6,8,11,6
,9,1,1,12,4,1,11,3,1,10,2,1
,13,5,2,14,8,2,15,7,2,16,6,2
,9,9,7,10,2,7,14,8,7,13,5,7
,10,6,4,11,12,4,15,11,4,14,10,4
,11,3,8,12,4,8,16,13,8,15,7,8
,13,14,6,16,11,6,12,12,6,9,15,6
,17,16,9,126,17,10,199,18,11,69,19,12
,17,16,9,69,19,12,176,20,13,68,21,14
,17,16,9,68,21,14,178,22,15,104,23,16
,17,16,9,104,23,16,200,24,17,126,17,10
,18,25,18,125,26,19,200,27,17,104,28,16
,18,25,18,104,28,16,178,29,15,72,30,20
,18,25,18,72,30,20,180,31,21,105,32,22
,18,25,18,105,32,22,201,33,23,125,26,19
,19,34,24,124,35,25,201,33,23,105,32,22
,19,34,24,105,32,22,180,31,21,75,36,26
,19,34,24,75,36,26,182,37,27,106,38,28
,19,34,24,106,38,28,202,39,29,124,35,25
,20,40,30,123,41,31,202,39,29,106,38,28
,20,40,30,106,38,28,182,37,27,78,42,32
,20,40,30,78,42,32,184,43,33,107,44,34
,20,40,30,107,44,34,203,45,35,123,41,31
,21,46,36,122,47,37,203,48,35,107,49,34
,21,46,36,107,49,34,184,50,33,81,51,38
,21,46,36,81,51,38,186,52,39,108,53,40
,21,46,36,108,53,40,204,54,41,122,47,37
,22,55,42,121,56,43,204,54,41,108,53,40
,22,55,42,108,53,40,186,52,39,84,57,44
,22,55,42,84,57,44,188,58,45,109,59,46
,22,55,42,109,59,46,205,60,47,121,56,43
,23,61,48,120,62,49,205,60,47,109,59,46
,23,61,48,109,59,46,188,58,45,87,63,50
,23,61,48,87,63,50,190,64,51,110,65,52
,23,61,48,110,65,52,206,66,53,120,62,49
,24,67,54,119,68,55,206,66,53,110,65,52
,24,67,54,110,65,52,190,64,51,90,69,56
,24,67,54,90,69,56,192,70,57,111,71,58
,24,67,54,111,71,58,207,72,59,119,68,55
,25,73,60,118,74,61,207,72,59,111,71,58
,25,73,60,111,71,58,192,70,57,93,75,62
,25,73,60,93,75,62,194,76,63,112,77,64
,25,73,60,112,77,64,208,78,65,118,74,61
,26,79,66,117,80,67,208,81,65,112,82,64
,26,79,66,112,82,64,194,83,63,96,84,68
,26,79,66,96,84,68,196,85,69,113,86,70
,26,79,66,113,86,70,209,87,71,117,80,67
,27,88,72,164,89,73,184,90,33,78,91,32
,27,88,72,78,91,32,182,92,27,163,93,74
,27,88,72,163,93,74,226,94,75,154,95,75
,27,88,72,154,95,75,227,96,75,164,89,73
,28,97,76,116,98,77,210,99,78,114,100,79
,28,97,76,114,100,79,198,101,80,102,102,81
,28,97,76,102,102,81,176,20,13,69,19,12
,28,97,76,69,19,12,199,18,11,116,98,77
,29,103,82,115,104,83,209,87,71,113,86,70
,29,103,82,113,86,70,196,85,69,99,105,84
,29,103,82,99,105,84,198,101,80,114,100,79
,29,103,82,114,100,79,210,99,78,115,104,83
,30,106,85,101,91,86,175,107,87,67,108,88
,30,106,85,67,108,88,177,109,89,71,110,90
,30,106,85,71,110,90,179,111,91,74,112,92
,30,106,85,74,112,92,181,113,93,77,114,94
,30,106,85,77,114,94,183,115,95,80,116,96
,30,106,85,80,116,96,185,117,97,83,118,98
,30,106,85,83,118,98,187,119,99,86,120,100
,30,106,85,86,120,100,189,121,101,89,122,102
,30,106,85,89,122,102,191,123,103,92,124,104
,30,106,85,92,124,104,193,125,105,95,126,106
,30,106,85,95,126,106,195,127,107,98,128,108
,30,106,85,98,128,108,197,129,109,101,91,86
,31,130,83,150,131,83,220,132,71,136,133,71
,31,130,83,136,133,71,209,87,71,115,104,83
,31,130,83,115,104,83,210,99,78,137,134,78
,31,130,83,137,134,78,221,135,78,150,131,83
,32,136,77,149,137,77,221,135,78,137,134,78
,32,136,77,137,134,78,210,99,78,116,98,77
,32,136,77,116,98,77,199,18,11,103,138,11
,32,136,77,103,138,11,222,139,11,149,137,77
,33,140,67,148,141,67,219,142,65,135,143,65
,33,140,67,135,143,65,208,81,65,117,80,67
,33,140,67,117,80,67,209,87,71,136,133,71
,33,140,67,136,133,71,220,132,71,148,141,67
,34,144,61,147,145,61,218,146,59,134,147,59
,34,144,61,134,147,59,207,72,59,118,74,61
,34,144,61,118,74,61,208,78,65,135,148,65
,34,144,61,135,148,65,219,149,65,147,145,61
,35,150,55,146,151,55,217,152,53,133,153,53
,35,150,55,133,153,53,206,66,53,119,68,55
,35,150,55,119,68,55,207,72,59,134,147,59
,35,150,55,134,147,59,218,146,59,146,151,55
,36,154,49,145,155,49,216,156,47,132,157,47
,36,154,49,132,157,47,205,60,47,120,62,49
,36,154,49,120,62,49,206,66,53,133,153,53
,36,154,49,133,153,53,217,152,53,145,155,49
,37,158,43,144,159,43,215,160,41,131,161,41
,37,158,43,131,161,41,204,54,41,121,56,43
,37,158,43,121,56,43,205,60,47,132,157,47
,37,158,43,132,157,47,216,156,47,144,159,43
,38,162,37,143,163,37,214,164,35,130,165,35
,38,162,37,130,165,35,203,48,35,122,47,37
,38,162,37,122,47,37,204,54,41,131,161,41
,38,162,37,131,161,41,215,160,41,143,163,37
,39,166,31,142,167,31,213,168,29,129,169,29
,39,166,31,129,169,29,202,39,29,123,41,31
,39,166,31,123,41,31,203,45,35,130,170,35
,39,166,31,130,170,35,214,171,35,142,167,31
,40,172,25,141,173,25,212,174,23,128,175,23
,40,172,25,128,175,23,201,33,23,124,35,25
,40,172,25,124,35,25,202,39,29,129,169,29
,40,172,25,129,169,29,213,168,29,141,173,25
,41,176,19,140,177,19,211,178,17,127,179,17
,41,176,19,127,179,17,200,27,17,125,26,19
,41,176,19,125,26,19,201,33,23,128,175,23
,41,176,19,128,175,23,212,174,23,140,177,19
,42,180,10,139,181,10,222,139,11,103,138,11
,42,180,10,103,138,11,199,18,11,126,17,10
,42,180,10,126,17,10,200,24,17,127,182,17
,42,180,10,127,182,17,211,183,17,139,181,10
,43,184,110,67,185,88,175,186,87,138,187,111
,43,184,110,138,187,111,222,139,11,139,181,10
,43,184,110,139,181,10,211,183,17,70,188,112
,43,184,110,70,188,112,177,189,89,67,185,88
,44,190,113,71,191,90,177,192,89,70,193,112
,44,190,113,70,193,112,211,178,17,140,177,19
,44,190,113,140,177,19,212,174,23,73,194,114
,44,190,113,73,194,114,179,195,91,71,191,90
,45,196,115,74,197,92,179,195,91,73,194,114
,45,196,115,73,194,114,212,174,23,141,173,25
,45,196,115,141,173,25,213,168,29,76,198,116
,45,196,115,76,198,116,181,199,93,74,197,92
,46,200,117,77,201,94,181,199,93,76,198,116
,46,200,117,76,198,116,213,168,29,142,167,31
,46,200,117,142,167,31,214,171,35,79,202,118
,46,200,117,79,202,118,183,203,95,77,201,94
,47,204,119,80,205,96,183,189,95,79,206,118
,47,204,119,79,206,118,214,164,35,143,163,37
,47,204,119,143,163,37,215,160,41,82,207,120
,47,204,119,82,207,120,185,208,97,80,205,96
,48,209,121,83,210,98,185,208,97,82,207,120
,48,209,121,82,207,120,215,160,41,144,159,43
,48,209,121,144,159,43,216,156,47,85,211,122
,48,209,121,85,211,122,187,212,99,83,210,98
,49,213,123,86,214,100,187,212,99,85,211,122
,49,213,123,85,211,122,216,156,47,145,155,49
,49,213,123,145,155,49,217,152,53,88,215,124
,49,213,123,88,215,124,189,216,101,86,214,100
,50,217,125,89,218,102,189,216,101,88,215,124
,50,217,125,88,215,124,217,152,53,146,151,55
,50,217,125,146,151,55,218,146,59,91,219,126
,50,217,125,91,219,126,191,220,103,89,218,102
,51,221,127,92,222,104,191,220,103,91,219,126
,51,221,127,91,219,126,218,146,59,147,145,61
,51,221,127,147,145,61,219,149,65,94,223,128
,51,221,127,94,223,128,193,224,105,92,222,104
,52,225,129,95,226,106,193,227,105,94,228,128
,52,225,129,94,228,128,219,142,65,148,141,67
,52,225,129,148,141,67,220,132,71,97,229,130
,52,225,129,97,229,130,195,230,107,95,226,106
,53,231,131,101,232,86,197,233,109,100,234,132
,53,231,131,100,234,132,221,135,78,149,137,77
,53,231,131,149,137,77,222,139,11,138,187,111
,53,231,131,138,187,111,175,186,87,101,232,86
,54,235,133,98,236,108,195,230,107,97,229,130
,54,235,133,97,229,130,220,132,71,150,131,83
,54,235,133,150,131,83,221,135,78,100,234,132
,54,235,133,100,234,132,197,233,109,98,236,108
,55,237,75,152,238,75,223,239,75,151,240,75
,55,237,75,151,240,75,224,241,75,162,242,75
,55,237,75,162,242,75,234,243,75,161,244,75
,55,237,75,161,244,75,233,245,75,160,246,75
,55,237,75,160,246,75,232,247,75,159,248,75
,55,237,75,159,248,75,231,249,75,158,250,75
,55,237,75,158,250,75,230,251,75,157,252,75
,55,237,75,157,252,75,229,253,75,156,254,75
,55,237,75,156,254,75,228,255,75,155,256,75
,55,237,75,155,256,75,227,96,75,154,95,75
,55,237,75,154,95,75,226,94,75,153,257,75
,55,237,75,153,257,75,225,258,75,152,238,75
,56,259,134,166,260,135,176,261,13,102,262,81
,56,259,134,102,262,81,198,263,80,165,264,136
,56,259,134,165,264,136,234,243,75,162,242,75
,56,259,134,162,242,75,224,241,75,166,260,135
,57,265,137,167,266,138,178,267,15,68,268,14
,57,265,137,68,268,14,176,261,13,166,260,135
,57,265,137,166,260,135,224,241,75,151,240,75
,57,265,137,151,240,75,223,239,75,167,266,138
,58,269,139,163,93,74,182,92,27,75,270,26
,58,269,139,75,270,26,180,271,21,168,272,140
,58,269,139,168,272,140,225,258,75,153,257,75
,58,269,139,153,257,75,226,94,75,163,93,74
,59,273,141,165,264,136,198,263,80,99,274,84
,59,273,141,99,274,84,196,275,69,169,276,142
,59,273,141,169,276,142,233,245,75,161,244,75
,59,273,141,161,244,75,234,243,75,165,264,136
,60,277,143,168,272,140,180,271,21,72,278,20
,60,277,143,72,278,20,178,267,15,167,266,138
,60,277,143,167,266,138,223,239,75,152,238,75
,60,277,143,152,238,75,225,258,75,168,272,140
,61,279,144,169,276,142,196,275,69,96,280,68
,61,279,144,96,280,68,194,281,63,170,282,145
,61,279,144,170,282,145,232,247,75,160,246,75
,61,279,144,160,246,75,233,245,75,169,276,142
,62,283,146,170,282,145,194,281,63,93,284,62
,62,283,146,93,284,62,192,285,57,171,286,147
,62,283,146,171,286,147,231,249,75,159,248,75
,62,283,146,159,248,75,232,247,75,170,282,145
,63,287,148,171,286,147,192,285,57,90,288,56
,63,287,148,90,288,56,190,289,51,172,290,149
,63,287,148,172,290,149,230,251,75,158,250,75
,63,287,148,158,250,75,231,249,75,171,286,147
,64,291,150,172,290,149,190,289,51,87,292,50
,64,291,150,87,292,50,188,293,45,173,294,151
,64,291,150,173,294,151,229,253,75,157,252,75
,64,291,150,157,252,75,230,251,75,172,290,149
,65,295,152,173,294,151,188,293,45,84,296,44
,65,295,152,84,296,44,186,297,39,174,298,153
,65,295,152,174,298,153,228,255,75,156,254,75
,65,295,152,156,254,75,229,253,75,173,294,151
,66,299,154,174,298,153,186,297,39,81,300,38
,66,299,154,81,300,38,184,90,33,164,89,73
,66,299,154,164,89,73,227,96,75,155,256,75
,66,299,154,155,256,75,228,255,75,174,298,153
,235,301,155,236,302,155,237,303,155,238,304,155
,239,305,156,242,306,156,241,307,156,240,308,156
,235,309,157,239,305,157,240,308,157,236,302,157
,236,306,158,240,310,158,241,311,158,237,312,158
,237,303,159,241,307,159,242,313,159,238,304,159
,239,314,160,235,315,160,238,312,160,242,311,160
,243,301,155,246,304,155,245,303,155,244,302,155
,247,305,156,248,308,156,249,307,156,250,306,156
,243,309,161,244,302,161,248,308,161,247,305,161
,244,306,158,245,312,158,249,311,158,248,310,158
,245,303,162,246,304,162,250,313,162,249,307,162
,247,314,160,250,311,160,246,312,160,243,315,160


];

window.onload = function init() {
    canvas = document.getElementById( "gl-canvas" );

    gl = WebGLUtils.setupWebGL( canvas );
    if ( !gl ) { alert( "WebGL isn't available" ); }

    gl.clearColor( 1.0, 1.0, 1.0, 1.0 );
	
	var program = initShaders( gl, "vertex-shader", "fragment-shader" );
    gl.useProgram( program );
	
	gl.enable(gl.DEPTH_TEST);
	prepareTeapot();
	
	var nBuffer=gl.createBuffer();
	gl.bindBuffer(gl.ARRAY_BUFFER,nBuffer);
	gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(normals),gl.STATIC_DRAW);
	
	var vNormal = gl.getAttribLocation(program,"vNormal");
	gl.vertexAttribPointer(vNormal,3,gl.FLOAT,false,0,0);
	gl.enableVertexAttribArray(vNormal);
	
	var vBuffer = gl.createBuffer();
    gl.bindBuffer( gl.ARRAY_BUFFER, vBuffer);
    gl.bufferData( gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);

    var vPosition = gl.getAttribLocation( program, "vPosition");
    gl.vertexAttribPointer( vPosition, 3, gl.FLOAT, false, 0, 0);
    gl.enableVertexAttribArray( vPosition);
	
	var iBuffer = gl.createBuffer();
	gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, iBuffer);
	gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint8Array(indices), gl.STATIC_DRAW);
	
	modelViewMatrix = rotateX(-90);
	projectionMatrix = ortho(-5.0, 5.0, -5.0, 5.0, -5.0, 5.0);
	
	modelViewMatrixLoc = gl.getUniformLocation( program, "modelViewMatrix" );
    projectionMatrixLoc = gl.getUniformLocation( program, "projectionMatrix" );

    gl.uniformMatrix4fv( modelViewMatrixLoc, false, flatten(modelViewMatrix));
	gl.uniformMatrix4fv( projectionMatrixLoc, false, flatten(projectionMatrix));
	
    document.getElementById("XButton").onclick = function(){
		modelViewMatrix = mult(rotateX(5), modelViewMatrix);
		gl.uniformMatrix4fv( modelViewMatrixLoc, false, flatten(modelViewMatrix));
		render();
	};
    document.getElementById("YButton").onclick = function(){
		modelViewMatrix = mult(rotateY(5), modelViewMatrix);
		gl.uniformMatrix4fv( modelViewMatrixLoc, false, flatten(modelViewMatrix));
		render();
	};
    document.getElementById("ZButton").onclick = function(){
		modelViewMatrix = mult(rotateZ(5), modelViewMatrix);
		gl.uniformMatrix4fv( modelViewMatrixLoc, false, flatten(modelViewMatrix));
		render();
	};
	
	//calculating components for light calculations
	ambientProduct = mult(ambientLight,ambientColor);
	diffuseProduct = mult(lightlColor,diffuseColor);
	specularProduct = mult(lightlColor,specularColor);
	
	gl.uniform4fv(gl.getUniformLocation(program,"ambientProduct"),
	  flatten(ambientProduct));
	gl.uniform4fv(gl.getUniformLocation(program,"diffuseProduct"),
	  flatten(diffuseProduct));
	gl.uniform4fv(gl.getUniformLocation(program,"specularProduct"),
	  flatten(specularProduct));
	gl.uniform4fv(gl.getUniformLocation(program,"lightDirection"),
	  flatten(lightlDirection));
	
	gl.uniform1f(gl.getUniformLocation(program,
	 "shininess"),materialShininess);

	render();
};

// This function goes over the given teapot data and 
// does the necessary index organization tasks.
// The main task is to convert the given polygons (quads and triangles)
// into a single indices array correctly
function prepareTeapot() {
	for (var i = 0; i < quads.length; i+=12) {
		indices.push(quads[i]-1, quads[i+3]-1, quads[i+6]-1); 
		indices.push(quads[i]-1, quads[i+6]-1, quads[i+9]-1); 
	}
}

function render() {

    gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);
    gl.drawElements(gl.TRIANGLES,indices.length,gl.UNSIGNED_BYTE,0);
}